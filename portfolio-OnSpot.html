<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>OnSpot - Portfolio Details</title>
    <meta name="description" content="위치 기반 소셜 미디어 플랫폼 OnSpot 포트폴리오" />

    <link href="assets/img/favicon.png" rel="icon" />
    <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon" />

    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap"
      rel="stylesheet"
    />

    <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet" />
    <link href="assets/vendor/aos/aos.css" rel="stylesheet" />
    <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet" />
    <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet" />

    <link href="assets/css/main.css" rel="stylesheet" />

    <!-- Page Custom CSS (moved from inline <style>) -->
    <link href="assets/css/portfolio-details-custom.css" rel="stylesheet" />

    <script type="module">
      import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
      mermaid.initialize({ startOnLoad: true, theme: 'neutral' });
    </script>
</head>

  <body class="portfolio-details-page">
    <div id="site-header"></div>

    <main class="main">
      <div class="page-title" data-aos="fade">
        <div class="container d-lg-flex justify-content-between align-items-center">
          <h1 class="mb-2 mb-lg-0">OnSpot Project</h1>
          <nav class="breadcrumbs">
            <ol>
              <li><a href="index.html">Home</a></li>
              <li class="current">OnSpot</li>
            </ol>
          </nav>
        </div>
      </div>

      <section id="portfolio-details" class="portfolio-details section">
        <div class="container" data-aos="fade-up">
          <div class="row justify-content-between gy-4 mt-4">
            <div class="col-lg-8" data-aos="fade-up">
              <div class="portfolio-description">
                <h2>OnSpot — 위치 기반 소셜 미디어 플랫폼</h2>
                <strong
                  >내 주변의 경험을 공유하고, 지도 위에서 새로운 사람들의 이야기를 발견하는
                  공간</strong
                >

                <hr class="my-4" />

                <h3 class="section-title">1. 시스템 아키텍처 (MVC Architecture)</h3>
                <p>
                  JSP(View), Servlet(Controller), DAO/DTO(Model) 패턴을 준수한 고전적인 웹
                  아키텍처를 구현했습니다.
                </p>

                <div class="diagram-container">
                  <pre class="mermaid">
graph LR
    User((User))
    subgraph Frontend
        JSP["JSP Views<br>(HTML/Bootstrap)"]
        Map["Kakao Map SDK"]
    end
    subgraph Backend
        Controller["Servlet<br>(Controller)"]
        Model["DAO / DTO<br>(Data Access)"]
        FileSys["File System<br>(Images)"]
    end
    subgraph Database
        Oracle[("Oracle DB 11g")]
    end

    User -->|Request| JSP
    JSP -->|Form Submit| Controller
    Controller -->|Business Logic| Model
    Controller -->|Multipart| FileSys
    Model -->|JDBC Query| Oracle
    Oracle -->|ResultSet| Model
    Model -->|DTO Return| Controller
    Controller -->|Forward| JSP
</pre>
                  <p class="text-muted small mt-2">▲ Servlet/JSP 기반의 MVC 패턴 데이터 흐름도</p>
                </div>

                <h3 class="section-title mt-5">2. 주요 기능 및 화면 (UI/UX)</h3>
                <div class="row mt-4">
                  <div class="col-md-6">
                    <div class="screenshot-placeholder">
                      <img src="./assets/img/portfolio/OnSpot_main.png" alt="" />
                    </div>
                    <h5>지도 기반 탐색</h5>
                    <p class="small">
                      Kakao Map API를 활용하여 사용자의 현재 위치 주변, 팔로워의 게시물 위치, 최근
                      게시물 위치를 마커로 시각화합니다.
                    </p>
                  </div>
                  <div class="col-md-6">
                    <div class="screenshot-placeholder">
                      <img src="./assets/img/portfolio/OnSpot_post.png" alt="" />
                    </div>
                    <h5>게시물 업로드</h5>
                    <p class="small">
                      사진 업로드 시 위치 정보를 함께 저장하여, 단순한 시간 순 정렬이 아닌 '장소'
                      중심의 피드를 제공합니다.
                    </p>
                  </div>
                </div>

                <h3 class="section-title mt-5">3. 핵심 로직: 위치 기반 게시물 등록</h3>
                <p>
                  파일 업로드(COS 라이브러리)와 위치 데이터 처리를 동시에 수행하는 프로세스입니다.
                </p>

                <div class="diagram-container">
                  <pre class="mermaid">
sequenceDiagram
    actor User
    participant Browser
    participant Server as Tomcat Server
    participant DB as Oracle DB

    User->>Browser: 1. 사진 선택 및 위치 지정
    Browser->>Server: 2. POST /upload (Multipart/form-data)
    
    activate Server
    Note right of Server: COS Library 처리
    Server->>Server: 3. 파일명 중복 처리 및 저장
    Server->>Server: 4. 위도(Lat), 경도(Lng) 추출
    Server->>DB: 5. INSERT INTO BOARD VALUES (...)
    DB-->>Server: 성공(1)
    deactivate Server
    
    Server-->>Browser: 6. 업로드 완료 및 지도 갱신
    Browser->>User: 7. 지도에 새 마커 표시
</pre
                  >
                </div>

                <h3 class="section-title mt-5">4. 데이터베이스 설계 (ERD)</h3>
                <p>
                  Oracle Database를 사용하여 회원, 게시물, 댓글, 팔로우 관계를 정규화하여
                  설계했습니다.
                </p>

                <div class="diagram-container">
                  <div class="screenshot-placeholder screenshot-auto">
                    <img src="./assets/img/portfolio/OnSpot_erd.png" alt="" />
                  </div>
                  <p class="text-muted small mt-2">▲ Oracle DB 테이블 관계도</p>
                </div>

                <h3 class="section-title mt-5">5. 기술 스택 (Tech Stack)</h3>
                <div class="row">
                  <div class="col-md-4 mb-3">
                    <div class="card h-100 shadow-sm border-0 bg-light">
                      <div class="card-body">
                        <h5 class="card-title fw-bold">Frontend</h5>
                        <span class="badge bg-primary tech-badge">HTML5/CSS3</span>
                        <span class="badge bg-primary tech-badge">JavaScript (ES6)</span>
                        <span class="badge bg-warning text-dark tech-badge">Kakao Maps SDK</span>
                        <span class="badge bg-info tech-badge">Bootstrap</span>
                        <span class="badge bg-secondary tech-badge">JQuery</span>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-4 mb-3">
                    <div class="card h-100 shadow-sm border-0 bg-light">
                      <div class="card-body">
                        <h5 class="card-title fw-bold">Backend</h5>
                        <span class="badge bg-danger tech-badge">Java 8</span>
                        <span class="badge bg-danger tech-badge">JSP / Servlet</span>
                        <span class="badge bg-dark tech-badge">Apache Tomcat 8.5</span>
                        <span class="badge bg-secondary tech-badge">COS (Multipart)</span>
                        <span class="badge bg-success tech-badge">JDBC</span>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-4 mb-3">
                    <div class="card h-100 shadow-sm border-0 bg-light">
                      <div class="card-body">
                        <h5 class="card-title fw-bold">Database</h5>
                        <span class="badge bg-danger tech-badge">Oracle 11g XE</span>
                        <span class="badge bg-secondary tech-badge">SQL Developer</span>
                        <span class="badge bg-dark tech-badge">DBCP (Connection Pool)</span>
                      </div>
                    </div>
                  </div>
                </div>
                <h3 class="section-title mt-5">6. 트러블 슈팅</h3>
                <p>"Tomcat 서버 실행 시 'Connection refused' 오류"</p>
                <p>
                  Tomcat 서버 실행 시 'Connection refused' 오류가 발생했습니다. 이는 Tomcat이
                  정상적으로 실행되지 않았기 때문입니다. Tomcat을 실행하기 전에 먼저 포트 8080이
                  사용 중인지 확인해야 합니다. 포트 8080이 사용 중이라면, 다른 포트를 사용하거나
                  포트를 변경해야 합니다.
                </p>
              </div>
            </div>

            <div class="col-lg-3" data-aos="fade-up" data-aos-delay="100">
              <div class="portfolio-info shadow-sm p-4 rounded">
                <h3>Project Info</h3>
                <ul class="list-unstyled">
                  <li class="mb-3"><strong>Category</strong> <br />웹 애플리케이션 (개인)</li>
                  <li class="mb-3"><strong>Role</strong> <br />1인 개발 (Full Stack)</li>
                  <li class="mb-3"><strong>Date</strong> <br />2022.07 – 2022.09 (2개월)</li>
                  <li class="mb-3">
                    <strong>GitHub</strong><br />
                    <a
                      href="https://github.com/6-n0kim/on_spot"
                      target="_blank"
                      class="d-block text-truncate"
                      ><i class="bi bi-github"></i> Source Code</a
                    >
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <div id="site-footer"></div>

    <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center">
      <i class="bi bi-arrow-up-short"></i>
    </a>

    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/vendor/aos/aos.js"></script>
    <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
    <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
    <script src="assets/js/includes.js"></script>


    <script src="assets/js/main.js"></script>
  </body>
</html>
